import os

# === Configuration ===
folder_path = r'path\to\your\folder'  # <-- Replace with your folder
output_file = r'output.txt'
skip_prefixes = ('TDY', 'AAA', 'BBB')

# === Read and process files ===
all_lines = []
for filename in sorted(os.listdir(folder_path)):
    if filename.lower().endswith('.txt'):
        file_path = os.path.join(folder_path, filename)
        with open(file_path, 'r', encoding='utf-8') as f:
            lines = f.readlines()[7:]  # Skip first 7 lines (starts from line 8)
            for line in lines:
                stripped = line.strip()
                if stripped and not stripped.startswith(skip_prefixes):
                    all_lines.append(stripped)

# === Write output with index ===
with open(output_file, 'w', encoding='utf-8') as f:
    for idx, line in enumerate(all_lines, start=1):
        f.write(f'{idx}: {line}\n')

print(f'Done! Output saved to {output_file}')