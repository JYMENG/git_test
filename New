import os
import shutil

# Set your paths
source_root = r"Path\To\MainFolder"
destination = r"Path\To\OutputFolder"

# Make sure destination exists
os.makedirs(destination, exist_ok=True)

# Loop through each subfolder
for subfolder in os.listdir(source_root):
    subfolder_path = os.path.join(source_root, subfolder)
    
    if os.path.isdir(subfolder_path):
        source_file = os.path.join(subfolder_path, "data.txt")  # Replace with your real filename
        if os.path.isfile(source_file):
            new_name = f"data_{subfolder}.txt"
            dest_file = os.path.join(destination, new_name)
            shutil.copy2(source_file, dest_file)
            print(f"Copied: {source_file} -> {dest_file}")